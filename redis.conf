# Redis configuration for persistent storage

# Bind to all interfaces (be careful in production)
bind 0.0.0.0

# Port
port 6379

# Enable persistence
# RDB snapshots - save to disk periodically
save 900 1
save 300 10
save 60 10000

# The filename for the RDB file
dbfilename dump.rdb

# The directory for the RDB and AOF files
dir /data

# Enable AOF (Append Only File) for better durability
appendonly yes
appendfilename "appendonly.aof"

# AOF rewrite settings
auto-aof-rewrite-percentage 100
auto-aof-rewrite-min-size 64mb

# AOF fsync policy
# everysec: fsync every second (good balance between performance and durability)
appendfsync everysec

# Disable stop-writes-on-bgsave-error for development
stop-writes-on-bgsave-error no

# Compression
rdbcompression yes
rdbchecksum yes

# Logging
loglevel notice

# Max memory policy (optional - uncomment if needed)
# maxmemory 256mb
# maxmemory-policy allkeys-lru

# Password protection (uncomment and change for production)
# requirepass your_strong_password_here